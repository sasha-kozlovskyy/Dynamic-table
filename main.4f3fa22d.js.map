{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","headers","table","document","body","appendChild","createElement","thead","tbody","tfoot","createTable","fetch","then","response","json","res","forEach","i","tr","insertAdjacentHTML","name","textContent","firstChild","addEventListener","e","inp","target","fouthCol","querySelectorAll","tagName","value","Number","parseFloat","toFixed","closest","rate","querySelector","koef","result","arr","map","x","push","lastChild","reduce","y","head"],"mappings":";AACA,aA+FA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA7FA,IAAMA,EAAW,6CACXC,EAAU,CAAC,MAAO,SAAU,cAAe,QAC3CC,EAAQC,SAASC,KAAKC,YAAYF,SAASG,cAAc,UACzDC,EAAQL,EAAMG,YAAYF,SAASG,cAAc,UACjDE,EAAQN,EAAMG,YAAYF,SAASG,cAAc,UACjDG,EAAQP,EAAMG,YAAYF,SAASG,cAAc,UAEvD,SAASI,IACPC,MAAMX,GACHY,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GAGGA,EAEFC,QAAQ,SAACC,GACNC,IAAAA,EAAKV,EAAMH,YAAYF,SAASG,cAAc,OAEpDY,EAAGC,mBACD,YAEmBF,gCAAAA,OAAAA,EAAEG,KAHvB,oBAOAF,EAAGC,mBACD,YADF,2IASAD,EAAGC,mBACD,YADF,2IASAD,EAAGC,mBACD,YADF,oDAQFlB,EAAQe,QAAQ,SAACC,GACfV,EAAMF,YAAYF,SAASG,cAAc,OAAOe,YAAcJ,EAC9DR,EAAMJ,YAAYF,SAASG,cAAc,SAG3CG,EAAMa,WAAWD,YAAc,QAE/BnB,EAAMqB,iBAAiB,WAAY,SAASC,GACpCC,IAAAA,EAAMD,EAAEE,OACRC,EAAWxB,SAASyB,iBAAiB,WAEvCH,GAAgB,UAAhBA,EAAII,QAAqB,CAC3BJ,EAAIK,MAAQC,OAAOC,WAAWP,EAAIK,OAAOG,QAAQ,GAE3Cf,IAAAA,EAAKO,EAAIS,QAAQ,MACjBC,EAAOjB,EAAGkB,cAAc,SACxBC,EAAOnB,EAAGkB,cAAc,SACxBE,EAASpB,EAAGkB,cAAc,WAEb,KAAfC,EAAKP,MACPQ,EAAOjB,YAA2B,EAAbc,EAAKL,MAE1BQ,EAAOjB,YAAcU,OAAOC,WAAWG,EAAKL,MAAQO,EAAKP,OACtDG,QAAQ,GAITM,IAAAA,EAAM,GAERZ,EAAAA,GAAUa,IAAI,SAACC,GAAMF,OAAAA,EAAIG,MAAMD,EAAEpB,eAErCZ,EAAMkC,UAAUtB,YAAcU,OAAOC,WACnCO,EAAIK,OAAO,SAACH,EAAGI,GACNJ,OAAAA,EAAII,GACV,IACHZ,QAAQ,OAKlBvB,IAEAP,SAAS2C,KAAKzC,YAAYF,SAASG,cAAc,UAAUe,YAA3D","file":"main.4f3fa22d.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-undef */\n'use strict';\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com/users';\nconst headers = ['Имя', 'Ставка', 'Коэффициент', 'Итог'];\nconst table = document.body.appendChild(document.createElement('table'));\nconst thead = table.appendChild(document.createElement('thead'));\nconst tbody = table.appendChild(document.createElement('tbody'));\nconst tfoot = table.appendChild(document.createElement('tfoot'));\n\nfunction createTable() {\n  fetch(BASE_URL)\n    .then(response => response.json())\n    .then(res => {\n      let data = [];\n\n      data = res;\n\n      data.forEach((i) => {\n        const tr = tbody.appendChild(document.createElement('tr'));\n\n        tr.insertAdjacentHTML(\n          'beforeend',\n          `\n          <td class='name'>${i.name}</td>\n        `\n        );\n\n        tr.insertAdjacentHTML(\n          'beforeend',\n          `\n          <td class='rate'>\n            <input value='' type='number' class='rate' id='rate' step='0.01'>\n          </td>\n        `\n        );\n\n        tr.insertAdjacentHTML(\n          'beforeend',\n          `\n          <td class='koef'>\n            <input value='' type='number' class='koef' id='koef' step='0.01'>\n          </td>\n        `\n        );\n\n        tr.insertAdjacentHTML(\n          'beforeend',\n          `\n          <td class='result'></td>\n        `\n        );\n      });\n\n      headers.forEach((i) => {\n        thead.appendChild(document.createElement('td')).textContent = i;\n        tfoot.appendChild(document.createElement('td'));\n      });\n\n      tfoot.firstChild.textContent = 'Всего';\n\n      table.addEventListener('focusout', function(e) {\n        const inp = e.target;\n        const fouthCol = document.querySelectorAll('.result');\n\n        if (inp.tagName === 'INPUT') {\n          inp.value = Number.parseFloat(inp.value).toFixed(2);\n\n          const tr = inp.closest('tr');\n          const rate = tr.querySelector('#rate');\n          const koef = tr.querySelector('#koef');\n          const result = tr.querySelector('.result');\n\n          if (koef.value === '') {\n            result.textContent = rate.value * 1;\n          } else {\n            result.textContent = Number.parseFloat(rate.value * koef.value)\n              .toFixed(2);\n          }\n        }\n\n        const arr = [];\n\n        [...fouthCol].map((x) => arr.push(+x.textContent));\n\n        tfoot.lastChild.textContent = Number.parseFloat(\n          arr.reduce((x, y) => {\n            return x + y;\n          }, 0)\n        ).toFixed(2);\n      });\n    });\n}\n\ncreateTable();\n\ndocument.head.appendChild(document.createElement('style')).textContent = `\ntable, tr {\n  border: 1px solid black;\n  padding: 0;\n  margin: 0 auto;\n  border-collapse: separate;\n  border-spacing: 0;\n  font-size: 16px;\n  font-family: sans-serif;\n}\nthead {\n  font-size: 20px;\n  font-weight: bold;\n  border-collapse: separate;\n}\ntd {\n  border: 1px solid black;\n  width: 200px;\n  height: 30px;\n  padding-left: 10px;\n  border-spacing: 0;\n  border-collapse: separate;\n}\n\ntfoot {\n  border-spacing: 0;\n  border-collapse: separate;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.result {\n  color: grey;\n  font-size: 16px;\n}\n\ninput {\n  border: none;\n  outline: none;\n  font-size: 16px;\n  font-family: sans-serif;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.name {\n  color: #FF8C00;\n}\n  `;\n"]}